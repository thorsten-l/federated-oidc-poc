{"version":3,"file":"user_oidc-vendors-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-C5_MegvA_mjs.js?v=10ef40e60d6654ae480c","mappings":"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","sources":["webpack:///user_oidc/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/sharing/dist/share/ShareType.js","webpack:///user_oidc/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/initial-state/dist/index.js","webpack:///user_oidc/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/sharing/dist/public.js","webpack:///user_oidc/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-C5_MegvA.mjs"],"sourcesContent":["/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport var ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"User\"] = 0] = \"User\";\n    ShareType[ShareType[\"Group\"] = 1] = \"Group\";\n    ShareType[ShareType[\"Link\"] = 3] = \"Link\";\n    ShareType[ShareType[\"Email\"] = 4] = \"Email\";\n    ShareType[ShareType[\"Remote\"] = 6] = \"Remote\";\n    /**\n     * Was called `Circle` before Nextcloud 29\n     */\n    ShareType[ShareType[\"Team\"] = 7] = \"Team\";\n    ShareType[ShareType[\"Guest\"] = 8] = \"Guest\";\n    ShareType[ShareType[\"RemoteGroup\"] = 9] = \"RemoteGroup\";\n    ShareType[ShareType[\"Room\"] = 10] = \"Room\";\n    ShareType[ShareType[\"Deck\"] = 12] = \"Deck\";\n    /**\n     * @since 26.0.0\n     */\n    ShareType[ShareType[\"FederatedGroup\"] = 14] = \"FederatedGroup\";\n    /**\n     * Third party share types\n     *\n     * @since 25.0.0\n     */\n    ShareType[ShareType[\"ScienceMesh\"] = 15] = \"ScienceMesh\";\n})(ShareType || (ShareType = {}));\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @module public\n */\nimport { loadState } from '@nextcloud/initial-state';\n/**\n * Check if the current page is on a public share\n */\nexport function isPublicShare() {\n    // check both the new initial state version and fallback to legacy input\n    return (loadState('files_sharing', 'isPublic', null)\n        ?? document.querySelector('input#isPublic[type=\"hidden\"][name=\"isPublic\"][value=\"1\"]') !== null);\n}\n/**\n * Get the sharing token for the current public share\n */\nexport function getSharingToken() {\n    return (loadState('files_sharing', 'sharingToken', null)\n        ?? document.querySelector('input#sharingToken[type=\"hidden\"]')?.value\n        ?? null);\n}\n","import { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, defineComponent, ref, computed, toRef, normalizeClass, normalizeStyle, unref, Fragment, createBlock, createVNode, toHandlers, withModifiers, onMounted, mergeModels, useModel, nextTick, onUnmounted, withCtx, createTextVNode, renderList, useTemplateRef, createSlots, shallowRef, watch } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { FileType, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiLock, mdiTag, mdiLink, mdiAccountPlus, mdiGroup, mdiNetwork, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { u as usePreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, l as logger, s as showError } from \"./index-Dh8t1o6F.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { joinPaths } from \"@nextcloud/paths\";\nimport { CancelablePromise } from \"cancelable-promise\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$c = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$b = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$a = { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" };\nconst _hoisted_4$a = { key: 0 };\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon file-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$a, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$a, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$b))\n  ], 16, _hoisted_1$c);\n}\nconst IconFile = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$d = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$b = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$a = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$9 = { d: \"M7,10L12,15L17,10H7Z\" };\nconst _hoisted_4$9 = { key: 0 };\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-down-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$9, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$9, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$a))\n  ], 16, _hoisted_1$b);\n}\nconst IconSortDescending = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$c = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$a = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$9 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$8 = { d: \"M7,15L12,10L17,15H7Z\" };\nconst _hoisted_4$8 = { key: 0 };\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-up-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$8, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$8, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$9))\n  ], 16, _hoisted_1$a);\n}\nconst IconSortAscending = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$b = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$9 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$8 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$7 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4$7 = { key: 0 };\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$7, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$7, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$8))\n  ], 16, _hoisted_1$9);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$4]]);\nconst fileListIconStyles = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"FilePreview\",\n  props: {\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles$1 = ref(fileListIconStyles);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiLock;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTag;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetwork;\n        case \"group\":\n          return mdiGroup;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        style: normalizeStyle(unref(previewLoaded) ? { backgroundImage: `url(${unref(previewURL)})` } : void 0),\n        class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon\"])\n      }, [\n        !unref(previewLoaded) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          isFile.value ? (openBlock(), createBlock(IconFile, {\n            key: 0,\n            size: 32\n          })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n            folderDecorationIcon.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n              key: 0,\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon-overlay\"]),\n              inline: \"\",\n              path: folderDecorationIcon.value,\n              size: 16\n            }, null, 8, [\"class\", \"path\"])) : createCommentVNode(\"\", true),\n            createVNode(IconFolder, {\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon--primary\"]),\n              size: 32\n            }, null, 8, [\"class\"])\n          ], 64))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 6);\n    };\n  }\n});\nconst _hoisted_1$8 = [\"tabindex\", \"aria-selected\", \"data-filename\"];\nconst _hoisted_2$7 = { class: \"row-name\" };\nconst _hoisted_3$6 = {\n  class: \"file-picker__name-container\",\n  \"data-testid\": \"row-name\"\n};\nconst _hoisted_4$6 = [\"title\", \"textContent\"];\nconst _hoisted_5$1 = [\"textContent\"];\nconst _hoisted_6$1 = { class: \"row-size\" };\nconst _hoisted_7$1 = { class: \"row-modified\" };\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enterDirectory\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const timestamp = computed(() => props.node.mtime ?? 0);\n    const displayName = computed(() => props.node.attributes?.displayName || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0));\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    function toggleSelected() {\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        emit2(\"enterDirectory\", props.node);\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", mergeProps({\n        tabindex: __props.showCheckbox && !isDirectory.value ? void 0 : 0,\n        \"aria-selected\": !isPickable.value ? void 0 : __props.selected,\n        class: [\"file-picker__row\", [\n          {\n            \"file-picker__row--selected\": __props.selected && !__props.showCheckbox\n          }\n        ]],\n        \"data-filename\": __props.node.basename,\n        \"data-testid\": \"file-list-row\"\n      }, toHandlers({\n        click: handleClick,\n        /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n        ...!__props.showCheckbox || isDirectory.value ? { keydown: handleKeyDown } : {}\n      }, true)), [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", {\n          key: 0,\n          class: \"row-checkbox\",\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, [\n          createVNode(unref(NcCheckboxRadioSwitch), {\n            \"aria-label\": unref(t)(\"Select the row for {nodename}\", { nodename: displayName.value }),\n            disabled: !isPickable.value,\n            \"data-testid\": \"row-checkbox\",\n            \"model-value\": __props.selected,\n            \"onUpdate:modelValue\": toggleSelected\n          }, null, 8, [\"aria-label\", \"disabled\", \"model-value\"])\n        ])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_2$7, [\n          createElementVNode(\"div\", _hoisted_3$6, [\n            createVNode(_sfc_main$a, {\n              node: __props.node,\n              \"crop-image-previews\": __props.cropImagePreviews\n            }, null, 8, [\"node\", \"crop-image-previews\"]),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-name\",\n              title: displayName.value,\n              textContent: toDisplayString(displayName.value)\n            }, null, 8, _hoisted_4$6),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-extension\",\n              textContent: toDisplayString(fileExtension.value)\n            }, null, 8, _hoisted_5$1)\n          ])\n        ]),\n        createElementVNode(\"td\", _hoisted_6$1, toDisplayString(unref(formatFileSize)(__props.node.size || 0)), 1),\n        createElementVNode(\"td\", _hoisted_7$1, [\n          createVNode(unref(NcDateTime), {\n            timestamp: timestamp.value,\n            \"ignore-seconds\": \"\"\n          }, null, 8, [\"timestamp\"])\n        ])\n      ], 16, _hoisted_1$8);\n    };\n  }\n});\nconst FileListRow = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-bfa2ae80\"]]);\nconst _hoisted_1$7 = {\n  \"aria-hidden\": \"true\",\n  class: \"file-picker__row loading-row\"\n};\nconst _hoisted_2$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_3$5 = { class: \"row-name\" };\nconst _hoisted_4$5 = { class: \"row-wrapper\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", _hoisted_1$7, [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", _hoisted_2$6, [..._cache[0] || (_cache[0] = [\n          createElementVNode(\"span\", null, null, -1)\n        ])])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_3$5, [\n          createElementVNode(\"div\", _hoisted_4$5, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(fileListIconStyles)[\"file-picker__file-icon\"])\n            }, null, 2),\n            _cache[1] || (_cache[1] = createElementVNode(\"span\", null, null, -1))\n          ])\n        ]),\n        _cache[2] || (_cache[2] = createElementVNode(\"td\", { class: \"row-size\" }, [\n          createElementVNode(\"span\")\n        ], -1)),\n        _cache[3] || (_cache[3] = createElementVNode(\"td\", { class: \"row-modified\" }, [\n          createElementVNode(\"span\")\n        ], -1))\n      ]);\n    };\n  }\n});\nconst LoadingTableRow = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-1f96131b\"]]);\nfunction useFilesSettings() {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        logger.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n}\nfunction useFilesViews(currentView) {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        logger.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n}\nconst _hoisted_1$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_2$5 = { class: \"hidden-visually\" };\nconst _hoisted_3$4 = [\"aria-sort\"];\nconst _hoisted_4$4 = { class: \"header-wrapper\" };\nconst _hoisted_5 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_6 = [\"aria-sort\"];\nconst _hoisted_7 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_8 = [\"aria-sort\"];\nconst _hoisted_9 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: /* @__PURE__ */ mergeModels({\n    currentView: {},\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: {}\n  }, {\n    \"path\": { required: true },\n    \"pathModifiers\": {},\n    \"selectedFiles\": { required: true },\n    \"selectedFilesModifiers\": {}\n  }),\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props) {\n    const path = useModel(__props, \"path\");\n    const selectedFiles = useModel(__props, \"selectedFiles\");\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    function toggleSorting(sortBy) {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    }\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && selectedFiles.value.length > 0 && selectedFiles.value.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (selectedFiles.value.length < selectableFiles.value.length) {\n        selectedFiles.value = [...selectableFiles.value];\n      } else {\n        selectedFiles.value = [];\n      }\n    }\n    function onNodeSelected(file) {\n      if (selectedFiles.value.includes(file)) {\n        selectedFiles.value = selectedFiles.value.filter((f) => f.path !== file.path);\n      } else {\n        if (props.multiselect) {\n          selectedFiles.value = [...selectedFiles.value, file];\n        } else {\n          selectedFiles.value = [file];\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      path.value = dir.path;\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"fileContainer\",\n        ref: fileContainer,\n        class: \"file-picker__files\"\n      }, [\n        createElementVNode(\"table\", null, [\n          createElementVNode(\"thead\", null, [\n            createElementVNode(\"tr\", null, [\n              __props.multiselect ? (openBlock(), createElementBlock(\"th\", _hoisted_1$6, [\n                createElementVNode(\"span\", _hoisted_2$5, toDisplayString(unref(t)(\"Select entry\")), 1),\n                __props.multiselect ? (openBlock(), createBlock(unref(NcCheckboxRadioSwitch), {\n                  key: 0,\n                  \"aria-label\": unref(t)(\"Select all entries\"),\n                  \"data-testid\": \"select-all-checkbox\",\n                  \"model-value\": allSelected.value,\n                  \"onUpdate:modelValue\": onSelectAll\n                }, null, 8, [\"aria-label\", \"model-value\"])) : createCommentVNode(\"\", true)\n              ])) : createCommentVNode(\"\", true),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByName.value,\n                class: \"row-name\"\n              }, [\n                createElementVNode(\"div\", _hoisted_4$4, [\n                  _cache[3] || (_cache[3] = createElementVNode(\"span\", { class: \"file-picker__header-preview\" }, null, -1)),\n                  createVNode(unref(NcButton), {\n                    \"data-test\": \"file-picker_sort-name\",\n                    variant: \"tertiary\",\n                    wide: \"\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => toggleSorting(\"basename\"))\n                  }, {\n                    icon: withCtx(() => [\n                      sortByName.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                        key: 0,\n                        size: 20\n                      })) : sortByName.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                        key: 1,\n                        size: 20\n                      })) : (openBlock(), createElementBlock(\"span\", _hoisted_5))\n                    ]),\n                    default: withCtx(() => [\n                      createTextVNode(\" \" + toDisplayString(unref(t)(\"Name\")), 1)\n                    ]),\n                    _: 1\n                  })\n                ])\n              ], 8, _hoisted_3$4),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortBySize.value,\n                class: \"row-size\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[1] || (_cache[1] = ($event) => toggleSorting(\"size\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortBySize.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortBySize.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_7))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Size\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_6),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByModified.value,\n                class: \"row-modified\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[2] || (_cache[2] = ($event) => toggleSorting(\"mtime\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortByModified.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortByModified.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_9))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Modified\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_8)\n            ])\n          ]),\n          createElementVNode(\"tbody\", null, [\n            __props.loading ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(skeletonNumber.value, (index) => {\n              return openBlock(), createBlock(LoadingTableRow, {\n                key: index,\n                \"show-checkbox\": __props.multiselect\n              }, null, 8, [\"show-checkbox\"]);\n            }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(sortedFiles.value, (file) => {\n              return openBlock(), createBlock(FileListRow, {\n                key: file.fileid || file.path,\n                \"allow-pick-directory\": __props.allowPickDirectory,\n                \"show-checkbox\": __props.multiselect,\n                \"can-pick\": __props.multiselect || selectedFiles.value.length === 0 || selectedFiles.value.includes(file),\n                selected: selectedFiles.value.includes(file),\n                node: file,\n                \"crop-image-previews\": unref(cropImagePreviews),\n                \"onUpdate:selected\": ($event) => onNodeSelected(file),\n                onEnterDirectory: onChangeDirectory\n              }, null, 8, [\"allow-pick-directory\", \"show-checkbox\", \"can-pick\", \"selected\", \"node\", \"crop-image-previews\", \"onUpdate:selected\"]);\n            }), 128))\n          ])\n        ])\n      ], 512);\n    };\n  }\n});\nconst FileList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-149cddc3\"]]);\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$5 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$4 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$3 = { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" };\nconst _hoisted_4$3 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon home-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$3, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$4))\n  ], 16, _hoisted_1$5);\n}\nconst IconHome = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$4 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon plus-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$4);\n}\nconst IconPlus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: {},\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = useTemplateRef(\"nameInput\");\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (window.OC.config?.blacklist_files_regex && name.match(window.OC.config?.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    function onSubmit() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    }\n    const pathElements = computed(() => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n      name: v,\n      path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n    })));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcBreadcrumbs), { class: \"file-picker__breadcrumbs\" }, createSlots({\n        default: withCtx(() => [\n          createVNode(unref(NcBreadcrumb), {\n            name: unref(t)(\"All files\"),\n            title: unref(t)(\"Home\"),\n            onClick: _cache[0] || (_cache[0] = ($event) => emit2(\"update:path\", \"/\"))\n          }, {\n            icon: withCtx(() => [\n              createVNode(IconHome, { size: 20 })\n            ]),\n            _: 1\n          }, 8, [\"name\", \"title\"]),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(pathElements.value, (dir) => {\n            return openBlock(), createBlock(unref(NcBreadcrumb), {\n              key: dir.path,\n              name: dir.name,\n              title: dir.path,\n              onClick: ($event) => emit2(\"update:path\", dir.path)\n            }, null, 8, [\"name\", \"title\", \"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, [\n        __props.showMenu ? {\n          name: \"actions\",\n          fn: withCtx(() => [\n            createVNode(unref(NcActions), {\n              open: actionsOpen.value,\n              \"onUpdate:open\": _cache[2] || (_cache[2] = ($event) => actionsOpen.value = $event),\n              \"aria-label\": unref(t)(\"Create directory\"),\n              \"force-menu\": true,\n              \"force-name\": true,\n              \"menu-name\": unref(t)(\"New\"),\n              variant: \"secondary\",\n              onClose: _cache[3] || (_cache[3] = ($event) => newNodeName.value = \"\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconPlus, { size: 20 })\n              ]),\n              default: withCtx(() => [\n                createVNode(unref(NcActionInput), {\n                  ref_key: \"nameInput\",\n                  ref: nameInput,\n                  modelValue: newNodeName.value,\n                  \"onUpdate:modelValue\": [\n                    _cache[1] || (_cache[1] = ($event) => newNodeName.value = $event),\n                    validateInput\n                  ],\n                  label: unref(t)(\"New folder\"),\n                  placeholder: unref(t)(\"New folder name\"),\n                  onSubmit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(IconFolder, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"label\", \"placeholder\"])\n              ]),\n              _: 1\n            }, 8, [\"open\", \"aria-label\", \"menu-name\"])\n          ]),\n          key: \"0\"\n        } : void 0\n      ]), 1024);\n    };\n  }\n});\nconst FilePickerBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-4e6fd4e4\"]]);\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon close-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$3);\n}\nconst IconClose = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$1]]);\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon magnify-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$2);\n}\nconst IconMagnify = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render]]);\nfunction useViews(isAnonymous) {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n}\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"file-picker__side\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: {},\n    filterString: {},\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(unref(NcTextField), {\n          class: \"file-picker__filter-input\",\n          label: unref(t)(\"Filter file list\"),\n          \"show-trailing-button\": !!__props.filterString,\n          \"model-value\": __props.filterString,\n          \"onUpdate:modelValue\": updateFilterValue,\n          onTrailingButtonClick: _cache[0] || (_cache[0] = ($event) => updateFilterValue(\"\"))\n        }, {\n          \"trailing-button-icon\": withCtx(() => [\n            createVNode(IconClose, { size: 16 })\n          ]),\n          default: withCtx(() => [\n            createVNode(IconMagnify, { size: 16 })\n          ]),\n          _: 1\n        }, 8, [\"label\", \"show-trailing-button\", \"model-value\"]),\n        unref(availableViews).length > 1 && !__props.disabledNavigation ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !__props.isCollapsed ? (openBlock(), createElementBlock(\"ul\", _hoisted_1$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(availableViews), (view) => {\n              return openBlock(), createElementBlock(\"li\", {\n                key: view.id\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: __props.currentView === view.id ? \"primary\" : \"tertiary\",\n                  wide: true,\n                  onClick: ($event) => _ctx.$emit(\"update:currentView\", view.id)\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      path: view.icon,\n                      size: 20\n                    }, null, 8, [\"path\"])\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(view.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"variant\", \"onClick\"])\n              ]);\n            }), 128))\n          ])) : (openBlock(), createBlock(unref(NcSelect), {\n            key: 1,\n            \"aria-label\": unref(t)(\"Current view selector\"),\n            clearable: false,\n            searchable: false,\n            options: unref(availableViews),\n            \"model-value\": currentViewObject.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => emit2(\"update:currentView\", $event.id))\n          }, null, 8, [\"aria-label\", \"options\", \"model-value\"]))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst FilePickerNavigation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-86223490\"]]);\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(joinPaths(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(joinPaths(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nfunction useDAVFiles(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = joinPaths(currentPath.value, name);\n    await client.createDirectory(joinPaths(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (!content) {\n      return;\n    } else if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n}\nfunction useMimeFilter(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(([type, subtype]) => (\n      // check mime type matches or is wildcard\n      (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n    ));\n  };\n  return {\n    isSupportedMimeType\n  };\n}\nconst _hoisted_1 = { class: \"file-picker__main\" };\nconst _hoisted_2 = {\n  key: 1,\n  class: \"file-picker__view\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FilePicker\",\n  props: {\n    buttons: {},\n    name: {},\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    filterFn: { type: Function, default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: false },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit$1 = __emit;\n    const isOpen = ref(true);\n    const currentView = ref(\"files\");\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const selectedFiles = shallowRef([]);\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    let isHandlingCallback = false;\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    async function handleButtonClick(callback, nodes) {\n      await callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    }\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    async function onCreateFolder(name) {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        logger.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    }\n    function handleClose(open) {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        open: isOpen.value,\n        \"onUpdate:open\": [\n          _cache[6] || (_cache[6] = ($event) => isOpen.value = $event),\n          handleClose\n        ],\n        buttons: dialogButtons.value,\n        name: __props.name,\n        size: \"large\",\n        \"content-classes\": \"file-picker__content\",\n        \"dialog-classes\": \"file-picker\",\n        \"navigation-classes\": \"file-picker__navigation\"\n      }, {\n        navigation: withCtx(({ isCollapsed }) => [\n          createVNode(FilePickerNavigation, {\n            \"current-view\": currentView.value,\n            \"onUpdate:currentView\": _cache[0] || (_cache[0] = ($event) => currentView.value = $event),\n            \"filter-string\": filterString.value,\n            \"onUpdate:filterString\": _cache[1] || (_cache[1] = ($event) => filterString.value = $event),\n            \"is-collapsed\": isCollapsed,\n            \"disabled-navigation\": __props.disabledNavigation\n          }, null, 8, [\"current-view\", \"filter-string\", \"is-collapsed\", \"disabled-navigation\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_1, [\n            currentView.value === \"files\" ? (openBlock(), createBlock(FilePickerBreadcrumbs, {\n              key: 0,\n              path: currentPath.value,\n              \"onUpdate:path\": _cache[2] || (_cache[2] = ($event) => currentPath.value = $event),\n              \"show-menu\": __props.allowPickDirectory,\n              onCreateNode: onCreateFolder\n            }, null, 8, [\"path\", \"show-menu\"])) : (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n              createElementVNode(\"h3\", null, toDisplayString(viewHeadline.value), 1)\n            ])),\n            unref(isLoading) || filteredFiles.value.length > 0 ? (openBlock(), createBlock(FileList, {\n              key: 2,\n              path: currentPath.value,\n              \"onUpdate:path\": [\n                _cache[3] || (_cache[3] = ($event) => currentPath.value = $event),\n                _cache[5] || (_cache[5] = ($event) => currentView.value = \"files\")\n              ],\n              \"selected-files\": selectedFiles.value,\n              \"onUpdate:selectedFiles\": _cache[4] || (_cache[4] = ($event) => selectedFiles.value = $event),\n              \"allow-pick-directory\": __props.allowPickDirectory,\n              \"current-view\": currentView.value,\n              files: filteredFiles.value,\n              multiselect: __props.multiselect,\n              loading: unref(isLoading),\n              name: viewHeadline.value\n            }, null, 8, [\"path\", \"selected-files\", \"allow-pick-directory\", \"current-view\", \"files\", \"multiselect\", \"loading\", \"name\"])) : filterString.value ? (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 3,\n              name: unref(t)(\"No matching files\"),\n              description: unref(t)(\"No files matching your filter were found.\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"])) : (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 4,\n              name: unref(t)(\"No files in here\"),\n              description: noFilesDescription.value\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"]))\n          ])\n        ]),\n        _: 1\n      }, 8, [\"open\", \"buttons\", \"name\"]);\n    };\n  }\n});\nconst FilePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-ce116f72\"]]);\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-C5_MegvA.mjs.map\n"],"names":["ShareType","app","key","fallback","selector","window","_nc_initial_state","has","get","Map","elem","document","querySelector","undefined","Error","parsedValue","JSON","parse","atob","value","set","error","console","cause","isPublicShare","_sfc_main$e","name","emits","props","title","type","String","fillColor","default","size","Number","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","d","_hoisted_4$a","IconFile","_","_ctx","_cache","$props","$setup","$data","$options","$attrs","class","role","onClick","$event","$emit","fill","width","height","viewBox","_sfc_main$d","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$9","IconSortDescending","_sfc_main$c","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","_hoisted_4$8","IconSortAscending","_sfc_main$b","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","IconFolder","fileListIconStyles","_sfc_main$a","__name","node","cropImagePreviews","Boolean","setup","__props","fileListIconStyles$1","previewURL","previewLoaded","u","cropPreview","isFile","File","folderDecorationIcon","Folder","attributes","mdi","shareTypes","Object","values","flat","some","Link","Email","length","style","backgroundImage","NcIconSvgWrapper","inline","path","_hoisted_1$8","_hoisted_2$7","_hoisted_3$6","_hoisted_4$6","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_sfc_main$9","allowPickDirectory","selected","showCheckbox","canPick","emit","__emit","emit2","timestamp","mtime","displayName","basename","slice","extension","fileExtension","isDirectory","isPickable","toggleSelected","handleClick","handleKeyDown","event","tabindex","click","keydown","NcCheckboxRadioSwitch","t","nodename","disabled","textContent","NcDateTime","FileListRow","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_sfc_main$8","LoadingTableRow","useFilesSettings","filesUserState","showHiddenFiles","show_hidden","sortFavoritesFirst","sort_favorites_first","crop_image_previews","async","l","debug","data","s","_hoisted_1$6","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_sfc_main$7","currentView","multiselect","loading","files","required","selectedFiles","customSortingConfig","currentConfig","filesAppSorting","convertOrder","order2","filesViewsState","filesViewConfig","sortBy","sorting_mode","order","sorting_direction","recentViewConfig","recent","favoritesViewConfig","favorites","useFilesViews","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","sortFoldersFirst","sortingOrder","sortingMode","selectableFiles","filter","file","allSelected","onSelectAll","onChangeDirectory","dir","skeletonNumber","fileContainer","resize","nodes","parentElement","children","clientHeight","index","isSameNode","Math","max","floor","addEventListener","removeEventListener","ref_key","ref","NcButton","variant","wide","icon","fileid","includes","f","onNodeSelected","onEnterDirectory","FileList","_sfc_main$6","_hoisted_1$5","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","IconHome","_sfc_main$5","_hoisted_1$4","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","IconPlus","_sfc_main$4","showMenu","actionsOpen","newNodeName","nameInput","validateInput","trim","input","$el","validity","OC","config","blacklist_files_regex","match","setCustomValidity","onSubmit","pathElements","split","v","map","i","elements","join","N","fn","NcActions","open","onClose","modelValue","label","placeholder","FilePickerBreadcrumbs","_sfc_main$3","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4$1","IconClose","_sfc_main$2","_hoisted_1$2","_hoisted_2$1","_hoisted_3","_hoisted_4","IconMagnify","_hoisted_1$1","_sfc_main$1","filterString","isCollapsed","disabledNavigation","availableViews","isAnonymous","allViews","id","useViews","currentViewObject","updateFilterValue","NcTextField","onTrailingButtonClick","NcSelect","clearable","searchable","options","view","FilePickerNavigation","useDAVFiles","currentPath","client","folder","isLoading","promise","loadDAVFiles","cancel","controller","AbortController","lastTwoWeek","round","Date","now","CancelablePromise","resolve","reject","onCancel","abort","search","signal","details","results","result","getRecentNodes","directoryPath","getDirectoryContents","includeSelf","contents","find","getNodes","content","loadFiles","createDirectory","directory","stat","getFile","_hoisted_1","_hoisted_2","_sfc_main","buttons","filterFn","Function","mimetypeFilter","emit$1","isOpen","savedPath","sessionStorage","getItem","navigatedPath","currentFolder","setItem","isHandlingCallback","dialogButtons","button","callback","handleButtonClick","viewHeadline","isSupportedMimeType","allowedMIMETypes","splittedTypes","mime","mimeTypeArray","subtype","useMimeFilter","filteredFiles","filtered","startsWith","toLowerCase","noFilesDescription","onCreateFolder","warn","handleClose","NcDialog","navigation","onCreateNode","description","FilePicker"],"sourceRoot":""}